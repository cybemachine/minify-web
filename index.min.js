const mime = require("mime"), path = require("path"), fs = require("fs"), notfound = () => "<h1>404</h1>", dir = () => "<h1>isdir</h1>"; exports.http = (e, t, n) => { e = e.replace("/" + t, "/"); var r = path.join(process.cwd(), t, e); fs.existsSync(r) ? fs.statSync(r).isFile() ? fs.readFile(r, function (e, t) { e ? n.end(e) : (n.setHeader("Content-Type", mime.getType(r) || "text/plain"), n.end(t)) }) : n.end(dir()) : n.end(notfound()) }, exports.express = (e) => { return e = path.resolve(process.cwd(), e), function (t, n, r) { r || (r = n.end); var s = path.join(e, t.url); return fs.existsSync(s) ? fs.statSync(s).isFile() ? void fs.readFile(s, function (e, t) { if (r || (r = n.end), e) return r(e); n.set("Content-Type", mime.getType(s) || "text/plain"), n.send(t) }) : r(dir()) : r(notfound()) } };